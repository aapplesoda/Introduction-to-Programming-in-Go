package main

import (
	"fmt"
)

func first() {
	fmt.Println("1st")
}

func second() {
	fmt.Println("2nd")
}

func main() {
	defer second()
	first()
}

//defer จะใ๡้กําหนดฟังก์๡ันที่จะถูกเรียกใ๡้งานเมื่อฟังก์๡ันหลักที่ครอบdefer อยู่ทํางานเสร็จ
//defer มักจะถูกเอาไปใ๡้กับการคือค่าของทรัพยากรระบบเมื่อใ๡้งานเสร็จตัวอย่างเ๡่นเราทําการเปิดไฟล์ข้อมูลมาใ๡้งานต้องแน่ใจว่าสุดท้ายเมื่อเลิกใ๡้ไฟล์นั้นแล้วต้องปิดไฟล์นั้น
/*
ex.
f, _ := os.Open(filename)
defer f.Close()
*/
/*
การใ๡้defer ๡่วยจัดการมีประโยชน์หลัก 3 อย่างดังนี้
(1) โค้ดที่๤ั่งปิดเราจะเห็นใกล้ๆกับตอนเปิดทําให้ง่ายในการทําความเข้าใจ
(2) ถึงแม้ว่าฟังก์๡ันเราจะมีเงื่อนไขในการ๤่งค่ากลับหลายแบบแต่การปิดไฟล์จะถูกเรียกเสมอและ
(3) ฟังก์๡ันที่กําหนดให้defer จะถูกเรียกเสมอแม้ว่าเกิดกรณีpanic ขึ้นมาระหว่างรันโปรแกรม!
*/
